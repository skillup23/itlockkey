---
title: 'Перемещение профиля пользователя'
author: 'Роберт'
publishDate: '29.11.24'
group: 'windows'
---

# Перемещение профиля пользователя

Для перемещения профиля пользователя на другой диск можно использовать символические ссылки.

Первоначально копируем каталог на другой диск

```bash
robocopy C:\Users\usr17 U:\usr17 /E /COPYALL /SECFIX /XJ
```

[команда] [откуда копируем] [куда] [игнорируя ошибки] [копировать все файлы] [подкаталоги и пустые] [системные и скрытые файлы] [сведения о принадлежности файлов] [не копировать символические ссылки]

Проверяем принадлежность владельца к скопированному каталогу и всем файлам внутри, должен быть аналогичный пользователь [usr17], отключаем наследования если есть (не должно быть при копировании через “xcopy /o”)

Переименовываем старый каталог на всякий случай.

Создаем символическую ссылку

```bash
mklink /D C:\Users\usr17 U:\usr17
```

[команда] [/D - ссылка на каталог, а не на файл] [где будет ссылка] [место каталога с файлами]

Проверяем, заходя под пользователем

### Возможные ошибки:

Ошибка с папкой **_C:\Users\usr17\AppData\Local\Microsoft\Windows\History_** при копировании. По наблюдениям можно эту папку удалить, содержит историю работы с файлами у данного пользователя
